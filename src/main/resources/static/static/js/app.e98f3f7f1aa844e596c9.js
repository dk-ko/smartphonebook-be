webpackJsonp([1],{"+6ey":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("yJbL"),s=a("fidn"),o=a("XKNy"),i=a.n(o),c=a("xPiw"),r={name:"Detail",props:["show","userId","root","tagName"],data:function(){return{msg:"Detail Page",isCreateMode:!1,selectedContact:{},openEdit:!1,openTagContact:!1,openConfirmModal:!1,confirmContent:{},selectedTagId:0,selectedTagName:""}},watch:{show:function(){console.log("============detail show change"),this.show&&(this.getContactDetail(),this.selectedContact={}),window.scrollTo(0,0)},openEdit:function(){console.log("sssssssss"),this.getContactDetail(),window.scrollTo(0,0)}},computed:{tagSort:function(){return this.selectedContact.tags.sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0})}},methods:{openDetailTagContact:function(t,e){console.log("sdfsdfdfsdf",t,this.selectedContact.id),this.openTagContact=!0,this.selectedTagId=t,this.selectedTagName=e},openEditFunc:function(){this.openEdit=!0,console.log("selectedContact",this.selectedContact)},openCreateComponent:function(){this.isCreateMode=!0},backClick:function(){console.log("back"),this.$emit("close")},getContactDetail:function(){var t=this;console.log("연락처 세부 정보 가져오기"),this.$http.get("/contacts/"+this.userId,{}).then(function(e){t.selectedContact=e.data,console.log("api 호출",t.selectedContact)}).catch(function(t){alert("오류가 발생했습니다.")})},contactDelete:function(){this.openConfirmModal=!0,this.confirmContent=i.a.contactDelete},onDelete:function(t){var e=this;this.$http.delete("/contacts/"+this.userId,{}).then(function(t){console.log("연락처 삭제"),e.backClick()}).catch(function(t){alert("오류가 발생했습니다.")})}},components:{CreateComponent:n.a,ConfirmModal:s.a,TagContact:c.a}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"detail"},[a("div",{staticClass:"detailHeader"},["tag"===t.root?a("span",{staticClass:"back",on:{click:t.backClick}},[a("i",{staticClass:"fa fa-angle-left"}),t._v(t._s(t.tagName)+" 연락처")]):t._e(),t._v(" "),"list"===t.root?a("span",{staticClass:"back",on:{click:t.backClick}},[a("i",{staticClass:"fa fa-angle-left"}),t._v("연락처")]):t._e(),t._v(" "),"favorite"===t.root?a("span",{staticClass:"back",on:{click:t.backClick}},[a("i",{staticClass:"fa fa-angle-left"}),t._v("즐겨찾기")]):t._e(),t._v(" "),a("span",{staticClass:"edit",on:{click:t.openEditFunc}},[t._v("편집")]),t._v(" "),a("div",{staticClass:"detailHeaderMain"},[t.selectedContact.photoPath?a("div",{staticClass:"thumb"},[a("img",{attrs:{src:t.selectedContact.photoPath}})]):t._e(),t._v(" "),t.selectedContact.photoPath?t._e():a("i",{staticClass:"fa fa-user-circle"}),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.selectedContact.name)+"\n      "),"DEFAULT"===t.selectedContact.type?a("i",{staticClass:"fa fa-star-o"}):t._e(),t._v(" "),"FAVORITED"===t.selectedContact.type?a("i",{staticClass:"fa fa-star"}):t._e()])])]),t._v(" "),a("div",{staticClass:"detailBody"},[a("ul",[t.selectedContact.tags&&0!==t.selectedContact.tags.length?a("li",{staticClass:"tagList"},t._l(t.tagSort,function(e){return a("span",{staticClass:"tagSpan",on:{click:function(a){t.openDetailTagContact(e.id,e.name)}}},[t._v("#"+t._s(e.name))])})):t._e(),t._v(" "),t._l(t.selectedContact.digits,function(e){return a("li",[a("p",[t._v(t._s(e.category.name))]),t._v(" "),null!==e.numbers.third?a("a",{attrs:{href:"tel:"+e.numbers.first+e.numbers.second+e.numbers.third}},[t._v(t._s(e.numbers.first)+"-"+t._s(e.numbers.second)+"-"+t._s(e.numbers.third))]):t._e(),t._v(" "),null!==e.numbers.second&&null===e.numbers.third?a("a",{attrs:{href:"tel:"+e.numbers.first+e.numbers.second}},[t._v(t._s(e.numbers.first)+"-"+t._s(e.numbers.second))]):t._e(),t._v(" "),null===e.numbers.second?a("a",{attrs:{href:"tel:"+e.numbers.first}},[t._v(t._s(e.numbers.first))]):t._e()])}),t._v(" "),t._l(t.selectedContact.infoes,function(e){return"EMAIL"===e.category.type?a("li",[a("p",[t._v(t._s(e.category.name)+" 이메일")]),t._v(" "),a("a",{attrs:{href:"mailto:"+e.contents}},[t._v(t._s(e.contents))])]):t._e()}),t._v(" "),t._l(t.selectedContact.infoes,function(e){return"ADDRESS"===e.category.type?a("li",[a("p",[t._v(t._s(e.category.name)+" 주소")]),t._v(" "),a("div",[t._v("\n          "+t._s(e.contents)+"\n          "),a("a",{attrs:{href:"https://www.google.co.kr/maps/search/"+e.contents,target:"_blanck"}},[a("i",{staticClass:"fa fa-map-marker"})])])]):t._e()}),t._v(" "),t._l(t.selectedContact.infoes,function(e){return"DATE"===e.category.type?a("li",[a("p",[t._v(t._s(e.category.name))]),t._v(" "),a("div",[t._v("\n          "+t._s(e.contents)+"\n        ")])]):t._e()}),t._l(t.selectedContact.infoes,function(e){return"URL"===e.category.type?a("li",[a("p",[t._v(t._s(e.category.name)+" URL")]),t._v(" "),"URL"===e.category.type?a("div",[-1!==e.contents.indexOf("http")?a("a",{attrs:{href:""+e.contents,target:"_blank"}},[t._v(t._s(e.contents))]):t._e(),t._v(" "),-1===e.contents.indexOf("http")?a("a",{attrs:{href:"http://"+e.contents,target:"_blank"}},[t._v(t._s(e.contents))]):t._e()]):t._e()]):t._e()}),t._v(" "),t.selectedContact.memo?a("li",[a("p",[t._v("메모")]),t._v(" "),a("div",{staticClass:"memoSection"},[t._v(t._s(t.selectedContact.memo))])]):t._e(),t._v(" "),"ME"!==t.selectedContact.type?a("li",{staticClass:"contactDelete",on:{click:t.contactDelete}},[t._v("이 연락처 삭제하기")]):t._e()],2)]),t._v(" "),a("create-component",{attrs:{show:t.openEdit,mode:"edit",selectedContact:t.selectedContact},on:{close:function(e){t.openEdit=!1}}}),t._v(" "),a("confirm-modal",{attrs:{show:t.openConfirmModal,content:t.confirmContent,contactName:t.selectedContact.name},on:{onDelete:t.onDelete,close:function(e){t.openConfirmModal=!1}}}),t._v(" "),a("tag-contact",{attrs:{show:t.openTagContact,tagId:t.selectedTagId,tagName:t.selectedTagName,detailId:t.selectedContact.id,detailName:t.selectedContact.name,root:"detail"},on:{close:function(e){t.openTagContact=!1}}})],1):t._e()},staticRenderFns:[]};var d=a("VU/8")(r,l,!1,function(t){a("V9qw")},null,null);e.default=d.exports},"1/oy":function(t,e){},"1Ot7":function(t,e){},"2Cvu":function(t,e){},"9M+g":function(t,e){},Bmes:function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},"JpO+":function(t,e){},N2vX:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("div",[this._v(this._s(this.msg))])])},staticRenderFns:[]};var o={name:"App",components:{FooterComponent:a("VU/8")({name:"Footer",data:function(){return{msg:"Copyright 2018 SODA"}}},s,!1,function(t){a("ZYQK")},null,null).exports}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app"},[e("router-view"),this._v(" "),e("footer-component")],1)},staticRenderFns:[]},c=a("VU/8")(o,i,!1,null,null,null).exports,r=a("/ocq"),l={name:"Login",data:function(){return{currentUrl:window.location.href}},mounted:function(){console.log(this.currentUrl,this)},watch:{currentUrl:function(){}},methods:{loginTry:function(){console.log("로그인 시도"),this.$http.get("/me",{}).then(function(t){console.log("로그인"),console.log(t)}).catch(function(t){alert("오류가 발생했습니다.")})},loginFunc:function(){console.log("loginFunc"),this.$emit("login",!0)}}},d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login"},[e("div",{staticClass:"loginWrapper"},[e("a",{attrs:{href:"https://soda-phonebook.ga/api/login"}},[e("button",{staticClass:"google"},[this._v("Google로 로그인")])])])])}]};var u=a("VU/8")(l,d,!1,function(t){a("ZvKc")},null,null).exports,h=a("yJbL"),g=a("+6ey"),m={name:"Favorite",props:["show"],data:function(){return{openDetail:!1,selectedUserId:0,searchContent:"",favoriteContacts:[],myId:1}},watch:{show:function(){window.scrollTo(0,0),!0===this.show&&this.getFavorites()}},computed:{nameSortList:function(){return this.favoriteContacts.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})}},methods:{backFunc:function(){this.$emit("close")},openDetailFunc:function(t){this.openDetail=!0,this.selectedUserId=t},favoriteInputKeyup:function(){this.searchContent=$("#favoriteSearchId").val()},getFavorites:function(){var t=this;this.$http.get("/users/"+this.myId+"/favorites",{}).then(function(e){t.favoriteContacts=e.data}).catch(function(t){alert("오류가 발생했습니다.")})}},components:{DetailComponent:g.default}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"favorite"},[a("div",{staticClass:"favoriteHeader"},[a("span",{staticClass:"title"},[t._v("즐겨찾기")]),t._v(" "),a("span",{staticClass:"save",on:{click:t.backFunc}},[a("i",{staticClass:"fa fa-angle-left"}),t._v("연락처")])]),t._v(" "),a("div",{staticClass:"favoriteBody"},[a("div",{staticClass:"listBody"},t._l(t.nameSortList,function(e){return"FAVORITED"===e.type?a("ul",[a("li",{on:{click:function(a){t.openDetailFunc(e.id)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])]):t._e()}))]),t._v(" "),a("detail-component",{attrs:{show:t.openDetail,userId:t.selectedUserId,root:"favorite"},on:{close:function(e){t.openDetail=!1}}})],1):t._e()},staticRenderFns:[]};var f=a("VU/8")(m,p,!1,function(t){a("PQfg")},null,null).exports,v=a("xPiw"),C=a("fidn"),_=a("XKNy"),y=a.n(_),D={name:"Tag",props:["show"],data:function(){return{msg:"Tag Page",tagData:[],openConfirmModal:!1,confirmContent:{},deleteTagId:0,deleteTagName:"",newTagName:"",editTagData:[],addTagTogle:!1,selectedTagId:0,selectedTagName:"",openTagContact:!1,editMode:!1}},mounted:function(){},watch:{show:function(){this.editMode=!1,this.getTag(),window.scrollTo(0,0)}},computed:{tagNameSort:function(){return this.tagData.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})},editTagNameSort:function(){return this.editTagData.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})},tagDataSort:function(){return this.tagData.sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0})}},methods:{tagSelect:function(t,e){this.selectedTagId=t,this.selectedTagName=e,this.openTagContact=!0},cancelAddTagTogleFunc:function(){this.newTagName="",this.addTagTogle=!1},addTagTogleFunc:function(){this.newTagName="",this.addTagTogle=!0},backFunc:function(){this.$emit("close")},getTag:function(){var t=this;this.$http.get("/tags/",{}).then(function(e){t.tagData=e.data,t.editTagData=t.tagData,console.log("tag api 호출",t.tagData)}).catch(function(t){alert("오류가 발생했습니다.")})},addTag:function(){var t=this;""!==this.newTagName&&this.newTagName.length<=10?(console.log("태그 추가"),this.$http.post("/tags/",{name:this.newTagName}).then(function(e){console.log("태그 생성 성공",t.newTagName),t.getTag(),t.addTagTogle=!1}).catch(function(t){alert("오류가 발생했습니다.")})):this.newTagName.length>10&&alert("태그 이름은 10 글자를 초과할 수 없습니다.")},alertDeleteTag:function(t,e,a){this.deleteTagId=e,this.deleteTagName=a,this.openConfirmModal=!0,this.confirmContent=y.a[t]},onDelete:function(t){var e=this;t&&this.$http.delete("/tags/"+this.deleteTagId,{}).then(function(t){console.log("태그 삭제"),e.getTag()}).catch(function(t){alert("오류가 발생했습니다.")})},editTagSave:function(){this.editMode=!1;for(var t=0;t<this.tagData.length;t++)this.$http.put("/tags/"+this.tagData[t].id,{name:this.editTagData[t].name}).then(function(t){console.log("태그 수정 성공")}).catch(function(t){alert("오류가 발생했습니다.")})}},components:{ConfirmModal:C.a,TagContact:v.a}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"tag"},[a("div",{staticClass:"tagHeader"},[a("span",{staticClass:"title"},[t._v("태그")]),t._v(" "),a("span",{staticClass:"save",on:{click:t.backFunc}},[a("i",{staticClass:"fa fa-angle-left"}),t._v("연락처")]),t._v(" "),t.editMode?t._e():a("span",{staticClass:"edit",on:{click:function(e){t.editMode=!0}}},[t._v("편집")]),t._v(" "),t.editMode?a("span",{staticClass:"edit",on:{click:t.editTagSave}},[t._v("완료")]):t._e()]),t._v(" "),a("div",{staticClass:"tagBody"},[a("ul",[t._l(t.tagDataSort,function(e){return t.editMode?t._e():a("li",{on:{click:function(a){t.tagSelect(e.id,e.name)}}},[a("i",{staticClass:"fa fa-slack"}),t._v("\n        "+t._s(e.name)+"\n      ")])}),t._v(" "),t._l(t.tagDataSort,function(e){return t.editMode?a("li",[a("i",{staticClass:"fa fa-minus-circle",on:{click:function(a){t.alertDeleteTag("tagDelete",e.id,e.name)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"editTag.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}})]):t._e()}),t._v(" "),t.editMode&&t.addTagTogle?a("li",[a("i",{staticClass:"fa fa-minus-circle",on:{click:t.cancelAddTagTogleFunc}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTagName,expression:"newTagName"}],attrs:{id:"tag",type:"text",placeholder:"태그명을 입력하세요."},domProps:{value:t.newTagName},on:{input:function(e){e.target.composing||(t.newTagName=e.target.value)}}}),t._v(" "),a("button",{staticClass:"addClass",on:{click:t.addTag}},[t._v("추가하기")])]):t._e(),t._v(" "),t.editMode?a("li",[a("i",{staticClass:"fa fa-plus-circle",on:{click:t.addTagTogleFunc}}),t._v("\n        태그 추가\n      ")]):t._e()],2)]),t._v(" "),a("tag-contact",{attrs:{show:t.openTagContact,tagId:t.selectedTagId,tagName:t.selectedTagName},on:{close:function(e){t.openTagContact=!1}}}),t._v(" "),a("confirm-modal",{attrs:{show:t.openConfirmModal,content:t.confirmContent,tagName:t.deleteTagName},on:{onDelete:t.onDelete,close:function(e){t.openConfirmModal=!1}}})],1):t._e()},staticRenderFns:[]};var A=a("VU/8")(D,w,!1,function(t){a("vhSJ")},null,null).exports,T={name:"List",data:function(){return{title:"연락처",openDetail:!1,openCreate:!1,openTag:!1,openFavorite:!1,contactData:[],selectedUserId:0,searchContent:"",currentUrl:window.location.href}},mounted:function(){var t=this;console.log("mounted!!!!!!!!!!!",new Date),setTimeout(function(){t.getContactList()},500),console.log(this.currentUrl)},watch:{currentUrl:function(){console.log("current Url ---")},openDetail:function(){this.getContactList(),window.scrollTo(0,0),console.log("show opendetail")},openCreate:function(){this.getContactList(),window.scrollTo(0,0),console.log("show openCreate")}},computed:{openOtherPage:function(){return!0===this.openDetail||!0===this.openCreate||!0===this.openTag||!0===this.openFavorite},contactFilteredList:function(){var t=this;return this.contactData.filter(function(e){for(var a=0;a<e.digits.length;a++){if((e.digits[a].numbers.first+e.digits[a].numbers.second+e.digits[a].numbers.third).includes(t.searchContent.replace(/-/gi,"")))return!0}if(e.name.toUpperCase().includes(t.searchContent.toUpperCase()))return!0})},nameSortList:function(){return this.contactFilteredList.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})}},methods:{loginFunc:function(){this.$emit("login",!1)},openTagFunc:function(){this.openTag=!0},openFavoriteFunc:function(){console.log("즐겨찾기 열기"),this.openFavorite=!0},openDetailFunc:function(t){this.openDetail=!0,this.selectedUserId=t},openCreateFunc:function(){this.openCreate=!0},inputKeyup:function(){this.searchContent=$("#searchId").val()},getContactList:function(){var t=this;console.log("getContactList"),this.$http.get("/contacts",{}).then(function(e){t.contactData=e.data,console.log("api 호출",t.contactData)}).catch(function(t){alert("오류가 발생했습니다.")})}},components:{DetailComponent:g.default,CreateComponent:h.a,TagComponent:A,FavoriteComponent:f}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"listHeader",class:{noDisplay:!0===t.openOtherPage}},[a("div",{staticClass:"headerTop"},[a("span",{staticClass:"tagSpan",on:{click:t.openTagFunc}},[t._v("태그")]),t._v(" "),a("span",{staticClass:"tagSpan",on:{click:t.openFavoriteFunc}},[t._v("즐겨찾기")]),t._v(" "),a("span",{staticClass:"rightIcon"},[a("b-dropdown",{staticClass:"dropdown",attrs:{right:""}},[a("b-dropdown-item",{on:{click:t.openCreateFunc}},[t._v("연락처 추가")]),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("b-dropdown-item",{attrs:{href:"https://soda-phonebook.ga/api/logout_processing"}},[t._v("로그아웃")])],1)],1)]),t._v(" "),a("h2",[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"search"},[a("i",{staticClass:"fa fa-search"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],attrs:{type:"text",placeholder:"검색",id:"searchId"},domProps:{value:t.searchContent},on:{keyup:t.inputKeyup,input:function(e){e.target.composing||(t.searchContent=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"listBody",class:{noDisplay:!0===t.openOtherPage}},[t._l(t.nameSortList,function(e){return"ME"===e.type?a("ul",{staticClass:"myContact"},[a("li",{on:{click:function(a){t.openDetailFunc(e.id)}}},[a("i",{staticClass:"fa fa-user-circle"}),a("h5",[t._v(t._s(e.name))])])]):t._e()}),t._v(" "),t._l(t.nameSortList,function(e){return"ME"!==e.type?a("ul",{key:e.id,class:{favorites:"FAVORITED"===e.type}},[a("li",{on:{click:function(a){t.openDetailFunc(e.id)}}},[t._v("\n        "+t._s(e.name)),"FAVORITED"===e.type?a("i",{staticClass:"fa fa-star"}):t._e()])]):t._e()})],2),t._v(" "),a("favorite-component",{attrs:{show:t.openFavorite},on:{close:function(e){t.openFavorite=!1}}}),t._v(" "),a("tag-component",{attrs:{show:t.openTag},on:{close:function(e){t.openTag=!1}}}),t._v(" "),a("detail-component",{attrs:{show:t.openDetail,userId:t.selectedUserId,root:"list"},on:{close:function(e){t.openDetail=!1}}}),t._v(" "),a("create-component",{attrs:{show:t.openCreate},on:{close:function(e){t.openCreate=!1}}})],1)},staticRenderFns:[]};var k=a("VU/8")(T,b,!1,function(t){a("zG4u")},null,null).exports,N={name:"Home",data:function(){return{isLogin:!1}},methods:{login:function(t){this.isLogin=t}},components:{TagComponent:A,ListComponent:k,LoginComponent:u}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[this.isLogin?this._e():e("div",[e("login-component",{on:{login:this.login}})],1),this._v(" "),this.isLogin?e("div"):this._e()])},staticRenderFns:[]};var I=a("VU/8")(N,F,!1,function(t){a("1Ot7")},null,null).exports;n.a.use(r.a);var M=new r.a({routes:[{path:"/",name:"Home",component:I},{path:"/login",name:"Login",component:u},{path:"/detail",name:"Detail",component:g.default},{path:"/create",name:"Create",component:h.a},{path:"/list",name:"List",component:k},{path:"/tag",name:"Tag",component:A},{path:"/favorite",name:"Favorite",component:f}]}),S=a("e6fC"),E=(a("Jmt5"),a("9M+g"),a("mtWM")),L=a.n(E);n.a.use(S.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:M,components:{App:c},template:"<App/>"}),L.a.defaults.headers.get["Cache-Control"]="no-cache",L.a.defaults.headers.get.Pragma="no-cache",L.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",L.a.defaults.headers.post["Content-Type"]="application/json",L.a.defaults.timeout=1e5,L.a.defaults.baseURL="https://soda-phonebook.ga/api",n.a.prototype.$http=L.a},PQfg:function(t,e){},V9qw:function(t,e){},WuDO:function(t,e){},XKNy:function(t,e){t.exports={tagDelete:{type:1,title:"태그를 삭제하시겠습니까?",button1:"취소",button2:"삭제하기"},tagContactDelete:{type:2,title:"태그에서",title2:"연락처를 삭제하시겠습니까?",button1:"취소",button2:"삭제하기"},contactDelete:{type:3,title:"연락처를 삭제하시겠습니까?",button1:"취소",button2:"삭제하기"}}},ZYQK:function(t,e){},ZvKc:function(t,e){},fidn:function(t,e,a){"use strict";var n={name:"confirmModal",props:["show","content","tagName","contactName"],data:function(){return{msg:"confirmModal Page"}},mounted:function(){console.log(this.contactName)},methods:{deleteTag:function(){this.$emit("onDelete",!0),this.$emit("close")},deleteTagContact:function(){this.$emit("onDelete",!0),this.$emit("close")},deleteContact:function(){this.$emit("onDelete",!0),this.$emit("close")}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"confirmModal"},[a("div",{staticClass:"popUpGridWrapepr"},[a("div",{staticClass:"title"},[3!==t.content.type?a("span",[a("b",[t._v('"'+t._s(t.tagName)+'"')]),t._v(" "+t._s(t.content.title))]):t._e(),t._v(" "),2===t.content.type?a("span",[a("b",[t._v('"'+t._s(t.contactName)+'"')]),t._v(" "+t._s(t.content.title2))]):t._e(),t._v(" "),3===t.content.type?a("span",[a("b",[t._v('"'+t._s(t.contactName)+'"')]),t._v(" "+t._s(t.content.title))]):t._e()]),t._v(" "),1===t.content.type?a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.$emit("close")}}},[t._v(t._s(t.content.button1))]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:t.deleteTag}},[t._v(t._s(t.content.button2))])]):t._e(),t._v(" "),2===t.content.type?a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.$emit("close")}}},[t._v(t._s(t.content.button1))]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:t.deleteTagContact}},[t._v(t._s(t.content.button2))])]):t._e(),t._v(" "),3===t.content.type?a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.$emit("close")}}},[t._v(t._s(t.content.button1))]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:t.deleteContact}},[t._v(t._s(t.content.button2))])]):t._e()])]):t._e()},staticRenderFns:[]};var o=a("VU/8")(n,s,!1,function(t){a("2Cvu")},null,null);e.a=o.exports},vhSJ:function(t,e){},xPiw:function(t,e,a){"use strict";var n=a("fidn"),s=a("XKNy"),o=a.n(s),i={name:"TagContact",props:["show","tagId","tagName","root","detailName","detailId"],data:function(){return{openDetail:!1,selectedUserId:0,searchContent:"",tagContacts:[],editMode:!1,openConfirmModal:!1,confirmContent:{},deleteContactId:0,deleteTagId:0,deleteTagName:"",deleteContactName:""}},watch:{show:function(){this.editMode=!1,window.scrollTo(0,0),!0===this.show&&(console.log("tagContact show"),this.getTagContacts()),!1===this.show&&(console.log("tagContact show false"),this.tagContacts=[])},openDetail:function(){!1===this.openDetail&&this.getTagContacts()}},computed:{nameSortList:function(){return this.tagContacts.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})}},methods:{deleteTagContact:function(t,e,a,n){this.openConfirmModal=!0,this.confirmContent=o.a.tagContactDelete,this.deleteContactId=e,this.deleteContactName=t,this.deleteTagId=a,this.deleteTagName=n},onDelete:function(t){var e=this;this.$http.delete("/contacts/"+this.deleteContactId+"/tags/"+this.deleteTagId,{}).then(function(t){console.log("해당 태그에서 해당 연락처 삭제 성공"),e.getTagContacts()}).catch(function(t){alert("오류가 발생했습니다.")})},backFunc:function(){this.$emit("close")},openDetailFunc:function(t){this.detailId!==t?(this.openDetail=!0,this.selectedUserId=t):this.backFunc()},getTagContacts:function(){var t=this;this.$http.get("/tags/"+this.tagId,{}).then(function(e){t.tagContacts=e.data}).catch(function(t){alert("오류가 발생했습니다.")})},editTagSave:function(){this.editMode=!1,console.log("편집 완료")}},components:{DetailComponent:function(){return new Promise(function(t){t()}).then(a.bind(null,"+6ey"))},ConfirmModal:n.a}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"tagContact"},[a("div",{staticClass:"tagContactHeader"},["detail"!==t.root?a("span",{staticClass:"back",on:{click:t.backFunc}},[a("i",{staticClass:"fa fa-angle-left"}),t._v("태그")]):t._e(),t._v(" "),"detail"===t.root?a("span",{staticClass:"back",on:{click:t.backFunc}},[a("i",{staticClass:"fa fa-angle-left"}),t._v(t._s(t.detailName))]):t._e(),t._v(" "),a("span",{staticClass:"title"},[t._v(t._s(t.tagName)+" 연락처")]),t._v(" "),t.editMode?t._e():a("span",{staticClass:"edit",on:{click:function(e){t.editMode=!0}}},[t._v("편집")]),t._v(" "),t.editMode?a("span",{staticClass:"edit",on:{click:t.editTagSave}},[t._v("완료")]):t._e()]),t._v(" "),a("div",{staticClass:"tagContactBody"},[a("div",{staticClass:"listBody"},t._l(t.nameSortList,function(e){return a("ul",[t.editMode?t._e():a("li",{on:{click:function(a){t.openDetailFunc(e.id)}}},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),t.editMode?a("li",[a("i",{staticClass:"fa fa-minus-circle",on:{click:function(a){t.deleteTagContact(e.name,e.id,t.tagId,t.tagName)}}}),t._v("\n        "+t._s(e.name)+"\n      ")]):t._e()])}))]),t._v(" "),a("detail-component",{attrs:{show:t.openDetail,userId:t.selectedUserId,root:"tag",tagName:t.tagName},on:{close:function(e){t.openDetail=!1}}}),t._v(" "),a("confirm-modal",{attrs:{show:t.openConfirmModal,content:t.confirmContent,contactName:t.deleteContactName,tagName:t.deleteTagName},on:{onDelete:t.onDelete,close:function(e){t.openConfirmModal=!1}}})],1):t._e()},staticRenderFns:[]};var r=a("VU/8")(i,c,!1,function(t){a("Bmes")},null,null);e.a=r.exports},yJbL:function(t,e,a){"use strict";var n=a("woOf"),s=a.n(n),o={0:"1",1:"2",2:"3",3:"4",4:"5",5:"6",6:"7",7:"8",8:"9",9:"10",10:"11",11:"12"},i={name:"DateDropdown",props:{default:{type:String,required:!1},min:{type:String,required:!1},max:{type:String,required:!1},monthsNames:{type:String,required:!1},selectClassName:{type:String,required:!1,default:"date-dropdown-select"},selectDayClassName:{type:String,required:!1,default:"day"},selectMonthClassName:{type:String,required:!1,default:"month"},selectYearClassName:{type:String,required:!1,default:"year"},selectWrapperClassName:{type:String,required:!1,default:"date-dropdown-select-wrapper"},containerClassName:{type:String,required:!1,default:"date-dropdown-container"}},data:function(){return{days:[],selectedDay:"",selectedMonth:"",selectedYear:""}},computed:{initialDate:function(){return!(!this.default&&!this.min)},specifiedDate:function(){return new Date(this.default)},minDate:function(){if(this.min)return new Date(this.min)},maxDate:function(){if(this.max)return new Date(this.max)},calculatedDate:function(){var t=this.selectedDay>=10?this.selectedDay:"0"+this.selectedDay,e=this.selectedMonth+1>=10?this.selectedMonth+1:"0"+(this.selectedMonth+1);return this.selectedYear+"-"+e+"-"+t},dividedNamesOfMonths:function(){if(this.monthsNames)return this.monthsNames.replace(/\s/g,"").split(",")},months:function(){for(var t=this,e=[],a=0;a<12;a++)this.dividedNamesOfMonths?e.push(this.dividedNamesOfMonths[a]):e.push(o[a]);return e.map(function(e,a){return{month:e,selected:a===t.selectedMonth}})},years:function(){for(var t=this,e=void 0,a=[],n=e=this.min?this.minDate.getFullYear():this.default?this.specifiedDate.getFullYear():(new Date).getFullYear(),s=e+(this.max?this.maxDate.getFullYear()+1-e:101);n<s;n++)a.push(n);return a.map(function(e){return{year:e,selected:e===t.selectedYear}})}},methods:{getDays:function(){for(var t=this,e=[],a=new Date(this.selectedYear,this.selectedMonth+1,0).getDate(),n=1;n<a+1;n++)e.push(n);return e.map(function(a){return{day:a,selected:e===t.selectedDay}})},updateDays:function(){this.days=this.getDays()},sendDate:function(){var t=this.format?this.format(this.calculatedDate):this.calculatedDate;this.$emit("input",t)},setDate:function(){this.updateDays();var t=void 0;t=this.min&&this.max&&!this.default?new Date(this.min):this.default?new Date(this.default):new Date,this.initialDate?this.selectedDay=t.getDate()+1:this.selectedDay=t.getDate(),this.selectedDay=t.getDate(),this.selectedMonth=t.getMonth(),this.selectedYear=t.getFullYear(),this.sendDate()}},created:function(){this.setDate()},updated:function(){this.sendDate()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:[t.containerClassName]},[a("div",{class:[t.selectWrapperClassName]},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear,expression:"selectedYear"}],class:[t.selectClassName,t.selectYearClassName],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedYear=e.target.multiple?a:a[0]},function(e){t.updateDays()}]}},t._l(t.years,function(e){return a("option",{key:e.year,domProps:{value:e.year}},[t._v("\n\t\t\t\t\t"+t._s(e.year)+"년\n\t\t\t\t")])}))]),t._v(" "),a("div",{class:[t.selectWrapperClassName]},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth,expression:"selectedMonth"}],class:[t.selectClassName,t.selectMonthClassName],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedMonth=e.target.multiple?a:a[0]},function(e){t.updateDays()}]}},t._l(t.months,function(e,n){return a("option",{key:e.month,domProps:{value:n}},[t._v("\n\t\t\t\t\t"+t._s(e.month)+"월\n\t\t\t\t")])}))]),t._v(" "),a("div",{class:[t.selectWrapperClassName]},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay,expression:"selectedDay"}],class:[t.selectClassName,t.selectDayClassName],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedDay=e.target.multiple?a:a[0]}}},t._l(t.days,function(e){return a("option",{key:e.day,domProps:{value:e.day}},[t._v("\n\t\t\t\t\t"+t._s(e.day)+"일\n\t\t\t\t")])}))])])},staticRenderFns:[]};var r={name:"TagSelect",props:["show","tagArray"],data:function(){return{tagData:[],emitTagArray:[]}},mounted:function(){},watch:{show:function(){window.scrollTo(0,0),1==this.show&&this.getTag()}},computed:{tagNameSort:function(){return this.tagData.sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0})}},methods:{originTagCheck:function(){for(var t=0;t<this.tagData.length;t++)this.tagData[t].checked=!1;for(var e=0;e<this.tagData.length;e++)for(var a=0;a<this.tagArray.length;a++)this.tagArray[a].id==this.tagData[e].id&&(this.tagData[e].checked=!0)},getTag:function(){var t=this;this.$http.get("/tags/",{}).then(function(e){t.tagData=e.data,console.log("tag api 호출",t.tagData),t.originTagCheck()}).catch(function(t){alert("오류가 발생했습니다.")})},tagSave:function(){this.$emit("close"),this.emitTagArray=[];for(var t=0;t<this.tagData.length;t++)!0===this.tagData[t].checked&&this.emitTagArray.push(this.tagData[t]);console.log("?",this.emitTagArray),this.$emit("editTags",this.emitTagArray)}},components:{}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"tagSelect"},[a("div",{staticClass:"tagSelectWrapper"},[a("div",{staticClass:"tagSelectHeader"},[a("span",{staticClass:"title"},[t._v("태그")]),t._v(" "),a("span",{staticClass:"save",on:{click:t.tagSave}},[t._v("완료")])]),t._v(" "),a("div",{staticClass:"tagSelectBody"},t._l(t.tagNameSort,function(e){return a("div",{staticClass:"checks etrans"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"tag.checked"}],attrs:{type:"checkbox",id:""+e.id},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(a){var n=e.checked,s=a.target,o=!!s.checked;if(Array.isArray(n)){var i=t._i(n,null);s.checked?i<0&&t.$set(e,"checked",n.concat([null])):i>-1&&t.$set(e,"checked",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(e,"checked",o)}}}),t._v(" "),a("label",{attrs:{for:""+e.id}},[t._v(t._s(e.name))])])}))])]):t._e()},staticRenderFns:[]};var d={name:"AddCategory",props:["show","categoryName"],data:function(){return{categoryType:"",categoryArray:[],addCategoryTogle:!1,newCategory:""}},mounted:function(){},watch:{show:function(){this.addCategoryTogle=!1,this.show&&this.getCategory()},categoryName:function(){console.log("name",this.categoryName),this.categoryArray=[]}},computed:{},methods:{backfunc:function(){this.$emit("close")},setCategoryType:function(){"전화번호"===this.categoryName&&(this.categoryType="DIGIT"),"이메일"===this.categoryName&&(this.categoryType="EMAIL"),"주소"===this.categoryName&&(this.categoryType="ADDRESS"),"기념일"===this.categoryName&&(this.categoryType="DATE"),"URL"===this.categoryName&&(this.categoryType="URL")},getCategory:function(){var t=this;this.setCategoryType(),this.$http.get("/categories/"+this.categoryType,{}).then(function(e){t.categoryArray=e.data,console.log(t.categoryArray)}).catch(function(e){alert("오류가 발생했습니다."),console.log(t.categoryType)})},deleteCategory:function(t){var e=this;console.log("deleteCategory"),this.$http.delete("/categories/"+t,{}).then(function(a){console.log(t,"category 삭제"),e.getCategory()}).catch(function(t){"reference category"===t.response.data.message?(console.log("hi"),alert("이 카테고리를 포함하는 정보가 존재하므로 삭제할 수 없습니다.")):alert("오류가 발생했습니다.")})},addCategoryToggleFunc:function(){this.addCategoryTogle=!0},cancelAddCategoryTogleFunc:function(){this.addCategoryTogle=!1,this.newCategory=""},addCategory:function(){var t=this;console.log("add Category"),this.$http.post("/categories/"+this.categoryType,{name:this.newCategory,type:this.categoryType}).then(function(e){t.categoryArray=e.data,t.newCategory="",t.cancelAddCategoryTogleFunc(),console.log(t.categoryArray),t.getCategory()}).catch(function(e){alert("오류가 발생했습니다."),console.log(t.categoryType)})}},components:{}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"addCategory"},[a("div",{staticClass:"addCategoryWrapper"},[a("div",{staticClass:"addCategoryHeader"},[a("span",{staticClass:"title"},[t._v(t._s(t.categoryName)+" 카테고리 편집")]),t._v(" "),a("span",{staticClass:"save",on:{click:t.backfunc}},[t._v("완료")])]),t._v(" "),a("div",{staticClass:"addCategoryBody"},[a("ul",[t._l(t.categoryArray,function(e){return a("li",["N"===e.isDefault?a("i",{staticClass:"fa fa-minus-circle",on:{click:function(a){t.deleteCategory(e.id)}}}):t._e(),t._v("\n          "+t._s(e.name)+"\n        ")])}),t._v(" "),t.addCategoryTogle?a("li",[a("i",{staticClass:"fa fa-minus-circle",on:{click:t.cancelAddCategoryTogleFunc}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCategory,expression:"newCategory"}],attrs:{id:"tag",type:"text",placeholder:"카테고리명을 입력하세요."},domProps:{value:t.newCategory},on:{input:function(e){e.target.composing||(t.newCategory=e.target.value)}}}),t._v(" "),a("button",{staticClass:"addClass",on:{click:t.addCategory}},[t._v("추가하기")])]):t._e(),t._v(" "),a("li",{on:{click:t.addCategoryToggleFunc}},[a("i",{staticClass:"fa fa-plus-circle"}),t._v("카테고리 추가\n        ")])],2)])])]):t._e()},staticRenderFns:[]};var h={name:"Create",props:["show","selectedContact","mode"],data:function(){return{digitCategories:[],emailCategories:[],addressCategories:[],dateCategories:[],urlCategories:[],showAddCategory:!1,categoryName:"",hasPhoto:!1,fileObj:"",pathHeader:"",pathMiddle:"",pathEnd:"",fileName:"",extName:"",allFilename:"",customData:"",file:"",fileBase64:"",openTagSelect:!1,phoneArray:[],emailArray:[],addressArray:[],dateArray:[],urlArray:[],tagArray:[],memoContents:"",name:"",type:"DEFAULT",photoArray:"",newPhone:{number:"",category:{id:1,name:"휴대전화"},numbers:{first:"",second:"",third:""}},newEmail:{category:{id:9,name:"개인"},contents:""},newAddress:{category:{id:15,name:"집"},contents:""},newDate:{category:{id:12,name:"생일"},contents:""},newUrl:{category:{id:6,name:"개인"},contents:""}}},watch:{show:function(){if(window.scrollTo(0,0),this.name="",this.phoneArray=[],this.emailArray=[],this.addressArray=[],this.dateArray=[],this.urlArray=[],this.memoContents="",this.name="",this.type="DEFAULT",this.photoArray="",this.tagArray=[],this.hasPhoto=!1,this.show&&(this.getCategory("DIGIT"),this.getCategory("EMAIL"),this.getCategory("ADDRESS"),this.getCategory("DATE"),this.getCategory("URL")),this.show&&this.selectedContact){if(this.name=this.selectedContact.name,0!==this.selectedContact.digits.length){this.phoneArray=this.selectedContact.digits;for(var t=0;t<this.phoneArray.length;t++)null!==this.phoneArray[t].numbers.third?(this.phoneArray[t].number=this.phoneArray[t].numbers.first+"-",this.phoneArray[t].number+=this.phoneArray[t].numbers.second+"-",this.phoneArray[t].number+=this.phoneArray[t].numbers.third):null===this.phoneArray[t].numbers.third&&null!==this.phoneArray[t].numbers.second?(this.phoneArray[t].number=this.phoneArray[t].numbers.first+"-",this.phoneArray[t].number+=this.phoneArray[t].numbers.second):null===this.phoneArray[t].numbers.second&&(this.phoneArray[t].number=this.phoneArray[t].numbers.first)}if(0!==this.selectedContact.infoes.length)for(var e=0;e<this.selectedContact.infoes.length;e++)"EMAIL"===this.selectedContact.infoes[e].category.type&&this.emailArray.push(this.selectedContact.infoes[e]),"ADDRESS"===this.selectedContact.infoes[e].category.type&&this.addressArray.push(this.selectedContact.infoes[e]),"DATE"===this.selectedContact.infoes[e].category.type&&this.dateArray.push(this.selectedContact.infoes[e]),"URL"===this.selectedContact.infoes[e].category.type&&this.urlArray.push(this.selectedContact.infoes[e]);this.selectedContact.memo&&(this.memoContents=this.selectedContact.memo),this.type=this.selectedContact.type,0!==this.selectedContact.tags.length&&(this.tagArray=this.selectedContact.tags),this.selectedContact.photoPath&&(this.photoArray=this.selectedContact.photoPath)}},showAddCategory:function(){this.getCategory("DIGIT"),this.getCategory("EMAIL"),this.getCategory("ADDRESS"),this.getCategory("DATE"),this.getCategory("URL")}},computed:{nowDate:function(){var t=new Date;return t=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},methods:{deletePhotoArray:function(){this.photoArray=[]},deletePhoto:function(){console.log("deletePhoto"),this.initialize()},setCategory:function(t,e,a){t.category={id:e,name:a}},getCategory:function(t){var e=this;this.$http.get("/categories/"+t,{}).then(function(a){"DIGIT"===t?e.digitCategories=a.data:"EMAIL"===t?e.emailCategories=a.data:"ADDRESS"===t?e.addressCategories=a.data:"DATE"===t?e.dateCategories=a.data:"URL"===t&&(e.urlCategories=a.data),console.log("category----------------------",a.data)}).catch(function(t){alert("오류가 발생했습니다.")})},addCategory:function(t){this.showAddCategory=!0,this.categoryName=t},fileSelect:function(){if(this.fileObj=document.getElementById("upFile").value,this.pathHeader=this.fileObj.lastIndexOf("\\"),this.pathMiddle=this.fileObj.lastIndexOf("."),this.pathEnd=this.fileObj.length,this.fileName=this.fileObj.substring(this.pathHeader+1,this.pathMiddle).replace(/[^a-zA-Z0-9_]/g,""),this.extName=this.fileObj.substring(this.pathMiddle+1,this.pathEnd),"PNG"!=this.extName.toUpperCase()&&"JPG"!=this.extName.toUpperCase()&&"JPEG"!=this.extName.toUpperCase())alert("지원하지 않는 파일형식입니다."),this.initialize();else if(this.fileName.length>20&&(this.fileName=this.fileName.substring(0,20)),this.allFilename=this.fileName+"."+this.extName,this.file=document.getElementById("upFile").files[0],this.file.size/1024/1024>3)alert("파일 용량은 3MB를 넘지 않아야합니다."),this.initialize();else{var t=new FileReader;t.readAsDataURL(this.file);var e=this;t.onload=function(){document.querySelector("#preview").src=t.result,e.fileBase64=t.result.split(",")[1],e.hasPhoto=!0,console.log("photo upload")}}},initialize:function(){this.file="",document.getElementById("upFile").value="",document.querySelector("#preview").src="",this.hasPhoto=!1,this.fileBase64=""},editTagsFunc:function(t){this.tagArray=t,console.log("tagtagtag=====",this.tagArray)},addTagButton:function(){this.openTagSelect=!0},phoneNumberChange:function(){},backFunc:function(){this.$emit("close")},createSave:function(){var t=this;if(this.phoneArray.length>0)for(var e=0;e<this.phoneArray.length;e++)console.log(this.phoneArray[e].number),this.phoneArray[e].numbers={first:this.phoneArray[e].number.split("-")[0],second:this.phoneArray[e].number.split("-")[1],third:this.phoneArray[e].number.split("-")[2]},delete this.phoneArray[e].number,delete this.phoneArray[e].category.isDefault;if(this.tagArray.length>0)for(var a=0;a<this.tagArray.length;a++)delete this.tagArray[a].checked;if(this.emailArray.length>0)for(var n=0;n<this.emailArray.length;n++)delete this.emailArray[n].category.isDefault;if(this.addressArray.length>0)for(var s=0;s<this.addressArray.length;s++)delete this.addressArray[s].category.isDefault;if(this.dateArray.length>0)for(var o=0;o<this.dateArray.length;o++)delete this.dateArray[o].category.isDefault;if(this.urlArray.length>0)for(var i=0;i<this.urlArray.length;i++)delete this.urlArray[i].category.isDefault;""!==this.name&&this.name.length<=10?this.selectedContact?this.$http.put("/contacts/"+this.selectedContact.id,{id:this.selectedContact.id,addresses:this.addressArray,dates:this.dateArray,digits:this.phoneArray,emails:this.emailArray,memo:this.memoContents,name:this.name,photo:this.fileBase64,type:this.type,urls:this.urlArray,tags:this.tagArray}).then(function(e){console.log("연락처 수정 성공"),t.$emit("close"),t.initialize()}).catch(function(e){alert("오류가 발생했습니다."),t.initialize(),console.log("---------"),console.log(t.selectedContact.id,t.addressArray,t.dateArray,t.phoneArray,t.emailArray,t.memoContents,t.name,t.fileBase64,t.type,t.urlArray,t.tagArray)}):this.$http.post("/contacts",{addresses:this.addressArray,dates:this.dateArray,digits:this.phoneArray,emails:this.emailArray,memo:this.memoContents,name:this.name,photo:this.fileBase64,type:this.type,urls:this.urlArray,tags:this.tagArray}).then(function(e){console.log("연락처 생성 성공"),t.$emit("close"),t.initialize(),console.log("ddddddddd",t.name.length)}).catch(function(e){alert("오류가 발생했습니다."),t.initialize(),console.log("emailArray",t.emailArray)}):""===this.name?alert("이름을 입력해주세요."):this.name.length>10&&alert("이름 길이는 10 글자를 초과할 수 없습니다.")},addPhone:function(){var t=s()({},this.newPhone);this.phoneArray.push(t),console.log("phoneArray",this.phoneArray)},subPhone:function(t){console.log(t),this.phoneArray.splice(t,1)},addEmail:function(){var t=s()({},this.newEmail);this.emailArray.push(t),console.log("emailArray",this.emailArray)},subEmail:function(t){console.log(t),this.emailArray.splice(t,1)},addAddress:function(){var t=s()({},this.newAddress);this.addressArray.push(t),console.log("addressArray",this.addressArray)},subAddress:function(t){console.log(t),this.addressArray.splice(t,1)},addDate:function(){var t=s()({},this.newDate);this.dateArray.push(t),console.log(this.dateArray)},subDate:function(t){this.dateArray.splice(t,1)},addUrl:function(){var t=s()({},this.newUrl);this.urlArray.push(t)},subUrl:function(t){this.urlArray.splice(t,1)}},components:{DateDropdown:a("VU/8")(i,c,!1,function(t){a("JpO+")},"data-v-357780db",null).exports,TagSelect:a("VU/8")(r,l,!1,function(t){a("N2vX")},null,null).exports,AddCategory:a("VU/8")(d,u,!1,function(t){a("yWbs")},null,null).exports}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"create"},[a("div",{staticClass:"createHeader"},[a("span",{staticClass:"back",on:{click:t.backFunc}},[t._v("취소")]),t._v(" "),"edit"!==t.mode?a("span",{staticClass:"title"},[t._v("새로운 연락처")]):t._e(),t._v(" "),"edit"===t.mode?a("span",{staticClass:"title"},[t._v("연락처 편집")]):t._e(),t._v(" "),a("span",{staticClass:"edit",on:{click:t.createSave}},[t._v("완료")])]),t._v(" "),a("div",{staticClass:"createBody"},[a("div",{staticClass:"addPhoto"},[t.hasPhoto?t._e():a("i",{staticClass:"fa fa-user-circle"}),t._v(" "),t.hasPhoto?t._e():a("button",{staticClass:"replace"},[t._m(0)]),t._v(" "),t.hasPhoto?a("i",{staticClass:"fa fa-minus-circle",on:{click:t.deletePhoto}}):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hasPhoto,expression:"hasPhoto"}],staticClass:"thumb important"},[a("img",{attrs:{id:"preview",src:""}})]),t._v(" "),t.photoArray.length>0?a("i",{staticClass:"fa fa-minus-circle",on:{click:t.deletePhotoArray}}):t._e(),t._v(" "),t.photoArray.length>0?a("div",{staticClass:"thumb"},[a("img",{attrs:{src:t.photoArray}})]):t._e(),t._v(" "),a("form",{attrs:{id:"FILE_FORM",method:"post",enctype:"multipart/form-data",action:""}},[a("input",{staticClass:"upload",attrs:{type:"file",name:"upFile",id:"upFile"},on:{change:t.fileSelect}})])]),t._v(" "),a("div",{staticClass:"addName"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"이름"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("div",{staticClass:"star"},["DEFAULT"===t.type?a("i",{staticClass:"fa fa-star-o",on:{click:function(e){t.type="FAVORITED"}}}):t._e(),t._v(" "),"FAVORITED"===t.type?a("i",{staticClass:"fa fa-star",on:{click:function(e){t.type="DEFAULT"}}}):t._e()])]),t._v(" "),a("div",{staticClass:"addDetail"},[t._l(t.tagArray,function(e,n){return a("span",{staticClass:"tagSpan"},[t._v("#"+t._s(e.name))])}),t._v(" "),a("div",{staticClass:"addDetailList addTitle"},[a("i",{staticClass:"fa fa-plus-circle",on:{click:t.addTagButton}}),t._v(" "),a("span",[t._v("태그 추가/변경")])]),t._v(" "),t._l(t.phoneArray,function(e,n){return a("div",{staticClass:"addDetailList add"},[a("div",{staticClass:"leftSection"},[a("i",{staticClass:"fa fa-minus-circle",on:{click:function(e){t.subPhone(n)}}}),t._v(" "),a("span",{staticClass:"sort"},[t._v(t._s(e.category.name))]),t._v(" "),a("span",{staticClass:"rightIcon"},[a("b-dropdown",{staticClass:"dropdown",attrs:{right:""}},[t._l(t.digitCategories,function(n){return a("b-dropdown-item",{key:n.id,on:{click:function(a){t.setCategory(e,n.id,n.name)}}},[t._v(t._s(n.name))])}),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("b-dropdown-item",{staticClass:"editCategory",on:{click:function(e){t.addCategory("전화번호")}}},[a("i",{staticClass:"fa fa-plus"}),t._v("  카테고리 편집\n              ")])],2)],1)]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"phone.number"}],attrs:{id:"number",type:"text",placeholder:"전화"},domProps:{value:e.number},on:{keyup:t.phoneNumberChange,input:function(a){a.target.composing||t.$set(e,"number",a.target.value)}}})])}),t._v(" "),a("div",{staticClass:"addDetailList addTitle"},[a("i",{staticClass:"fa fa-plus-circle",on:{click:t.addPhone}}),t._v(" "),a("span",[t._v("전화번호 추가")])]),t._v(" "),t._l(t.emailArray,function(e,n){return a("div",{staticClass:"addDetailList add"},[a("div",{staticClass:"leftSection"},[a("i",{staticClass:"fa fa-minus-circle",on:{click:function(e){t.subEmail(n)}}}),t._v(" "),a("span",{staticClass:"sort"},[t._v(t._s(e.category.name))]),t._v(" "),a("span",{staticClass:"rightIcon"},[a("b-dropdown",{staticClass:"dropdown",attrs:{right:""}},[t._l(t.emailCategories,function(n){return a("b-dropdown-item",{key:n.id,on:{click:function(a){t.setCategory(e,n.id,n.name)}}},[t._v(t._s(n.name))])}),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("b-dropdown-item",{staticClass:"editCategory",on:{click:function(e){t.addCategory("이메일")}}},[a("i",{staticClass:"fa fa-plus"}),t._v("  카테고리 편집\n              ")])],2)],1)]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.contents,expression:"email.contents"}],attrs:{type:"text",placeholder:"이메일"},domProps:{value:e.contents},on:{input:function(a){a.target.composing||t.$set(e,"contents",a.target.value)}}})])}),t._v(" "),a("div",{staticClass:"addDetailList addTitle"},[a("i",{staticClass:"fa fa-plus-circle",on:{click:t.addEmail}}),t._v(" "),a("span",[t._v("이메일 추가")])]),t._v(" "),t._l(t.addressArray,function(e,n){return a("div",{staticClass:"addDetailList add"},[a("div",{staticClass:"leftSection"},[a("i",{staticClass:"fa fa-minus-circle",on:{click:function(e){t.subAddress(n)}}}),t._v(" "),a("span",{staticClass:"sort"},[t._v(t._s(e.category.name))]),t._v(" "),a("span",{staticClass:"rightIcon"},[a("b-dropdown",{staticClass:"dropdown",attrs:{right:""}},[t._l(t.addressCategories,function(n){return a("b-dropdown-item",{key:n.id,on:{click:function(a){t.setCategory(e,n.id,n.name)}}},[t._v(t._s(n.name))])}),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("b-dropdown-item",{staticClass:"editCategory",on:{click:function(e){t.addCategory("주소")}}},[a("i",{staticClass:"fa fa-plus"}),t._v("  카테고리 편집\n              ")])],2)],1)]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.contents,expression:"address.contents"}],attrs:{type:"text",placeholder:"주소"},domProps:{value:e.contents},on:{input:function(a){a.target.composing||t.$set(e,"contents",a.target.value)}}})])}),t._v(" "),a("div",{staticClass:"addDetailList addTitle"},[a("i",{staticClass:"fa fa-plus-circle",on:{click:t.addAddress}}),t._v(" "),a("span",[t._v("주소 추가")])]),t._v(" "),t._l(t.dateArray,function(e,n){return a("div",{staticClass:"addDetailList add"},[a("div",{staticClass:"leftSection"},[a("i",{staticClass:"fa fa-minus-circle",on:{click:function(e){t.subDate(n)}}}),t._v(" "),a("span",{staticClass:"sort"},[t._v(t._s(e.category.name))]),t._v(" "),a("span",{staticClass:"rightIcon"},[a("b-dropdown",{staticClass:"dropdown",attrs:{right:""}},[t._l(t.dateCategories,function(n){return a("b-dropdown-item",{key:n.id,on:{click:function(a){t.setCategory(e,n.id,n.name)}}},[t._v(t._s(n.name))])}),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("b-dropdown-item",{staticClass:"editCategory",on:{click:function(e){t.addCategory("기념일")}}},[a("i",{staticClass:"fa fa-plus"}),t._v("  카테고리 편집\n              ")])],2)],1)]),t._v(" "),a("date-dropdown",{attrs:{min:"1930",max:"2018",default:e.contents},model:{value:e.contents,callback:function(a){t.$set(e,"contents",a)},expression:"date.contents"}})],1)}),t._v(" "),a("div",{staticClass:"addDetailList addTitle"},[a("i",{staticClass:"fa fa-plus-circle",on:{click:t.addDate}}),t._v(" "),a("span",[t._v("기념일 추가")])]),t._v(" "),t._l(t.urlArray,function(e,n){return a("div",{staticClass:"addDetailList add"},[a("div",{staticClass:"leftSection"},[a("i",{staticClass:"fa fa-minus-circle",on:{click:function(e){t.subUrl(n)}}}),t._v(" "),a("span",{staticClass:"sort"},[t._v(t._s(e.category.name))]),t._v(" "),a("span",{staticClass:"rightIcon"},[a("b-dropdown",{staticClass:"dropdown",attrs:{right:""}},[t._l(t.urlCategories,function(n){return a("b-dropdown-item",{key:n.id,on:{click:function(a){t.setCategory(e,n.id,n.name)}}},[t._v(t._s(n.name))])}),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("b-dropdown-item",{staticClass:"editCategory",on:{click:function(e){t.addCategory("URL")}}},[a("i",{staticClass:"fa fa-plus"}),t._v("  카테고리 편집\n              ")])],2)],1)]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.contents,expression:"url.contents"}],attrs:{type:"text",placeholder:"URL"},domProps:{value:e.contents},on:{input:function(a){a.target.composing||t.$set(e,"contents",a.target.value)}}})])}),t._v(" "),a("div",{staticClass:"addDetailList addTitle"},[a("i",{staticClass:"fa fa-plus-circle",on:{click:t.addUrl}}),t._v(" "),a("span",[t._v("URL 추가")])]),t._v(" "),a("div",[a("span",{staticClass:"memo"},[t._v("메모 추가")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.memoContents,expression:"memoContents"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"메모"},domProps:{value:t.memoContents},on:{input:function(e){e.target.composing||(t.memoContents=e.target.value)}}})])],2)]),t._v(" "),a("tag-select",{attrs:{show:t.openTagSelect,tagArray:t.tagArray},on:{close:function(e){t.openTagSelect=!1},editTags:t.editTagsFunc}}),t._v(" "),a("add-category",{attrs:{show:t.showAddCategory,categoryName:t.categoryName},on:{close:function(e){t.showAddCategory=!1}}})],1):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("사진"),e("br"),this._v("추가")])}]};var m=a("VU/8")(h,g,!1,function(t){a("WuDO")},null,null);e.a=m.exports},yWbs:function(t,e){},zG4u:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e98f3f7f1aa844e596c9.js.map